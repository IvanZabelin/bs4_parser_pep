# Парсер PEP    

Парсинг сайта при помощи `Beautiful Soup`. Написал четыре парсера и объединил в одну многофункциональную программу:
- Первый считывает нововведения продукта;
- Второй собирает информацию о версиях продукта (номера, статусы, и ссылки на документацию);
- Третий скачивает архив документов и сохраняет на локальный диск;
- Четвертый считывает документы и проверяет статусы на соответствие (соответствует ли статус, тот, что на общей странисе, со статусом на отлельной странице документа), далее, подсчитывает количество документов с одним и тем же статусом и общее количество документов, и сохраняет результат в табличном виде в csv-файл.

Сделал возможным запуск парсеров выборочно, при помощи аргументов командной строки, применив модуль `argparse`. Для отслеживания прогресса парсинга использовал прогресс-бар `tqdm`. Реализовал два варианта формата вывода результатов парсинга: запись в CSV-файл и вывод в терминал в табличном виде используя библиотеку `PrettyTable`. Выбор формата вывода так же реализовал посредством аргументов командной строки. Еще написал систему логирования применив библиотеку `logging` и всевозможные обработчики ошибок.

## Автор 
- Забелин Иван  
    - [email](mailto:the.zabelin@gmail.com)
  
## Технологии  
- [Python 3.9](https://www.python.org/downloads/release/python-390/)
- [BeautifulSoup4](https://pypi.org/project/beautifulsoup4/4.9.3/)
- [requests-cache](https://pypi.org/project/requests-cache/1.0.0/)
- [tqdm](https://tqdm.github.io/)

## Как запустить проект: 
  
Клонировать репозиторий и перейти в него в командной строке:  
  
```  
git clone https://github.com/andrey-kobelev/bs4_parser_pep.git
```  
  
```  
cd bs4_parser_pep
```  
  
Cоздать и активировать виртуальное окружение:  
  
```  
python3 -m venv env  
```  
  
```  
source env/bin/activate  
```  
  
Установить зависимости из файла requirements.txt:  
  
```  
python3 -m pip install --upgrade pip  
```  
  
```  
pip install -r requirements.txt  
```

## Команды запуска/Справка

### Справка

```bash
python src/main.py -h
```

```
Парсер документации Python

positional arguments:
  {whats-new,latest-versions,download,pep}
                        Режимы работы парсера

optional arguments:
  -h, --help            show this help message and exit
  -c, --clear-cache     Очистка кеша
  -o {pretty,file}, --output {pretty,file}
                        Дополнительные способы вывода данных

```

### Пример выполнения команды

**Команда:**

```bash
python src/main.py pep --output pretty
```

**Результат:**

```
2025-02-19 19:38:06,137 - INFO - Парсер запущен!
2025-02-19 19:38:06,138 - INFO - Аргументы командной строки: Namespace(mode='pep', clear_cache=False, output='pretty')
Парсинг PEP: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████| 675/675 [00:11<00:00, 56.38it/s]
2025-02-19 19:38:18,277 - WARNING - Несовпадающие статусы:
2025-02-19 19:38:18,277 - WARNING - https://peps.python.org/pep-0401/
Статус в карточке: April Fool!
Ожидаемые статусы: ['Rejected']

Файл сохранён в: C:\Users\theza\Dev\bs4_parser_pep\src\results\pep_summary.csv
+-------------+------------+
| Статус      | Количество |
+-------------+------------+
| Active      | 34         |
| Final       | 330        |
| Accepted    | 19         |
| Provisional | 1          |
| Draft       | 41         |
| Superseded  | 24         |
| Deferred    | 35         |
| Withdrawn   | 66         |
| Rejected    | 124        |
| April Fool! | 1          |
| Total       | 675        |
+-------------+------------+
2025-02-19 19:38:18,279 - INFO - Парсер завершил работу.
